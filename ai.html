<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NovaEdition AI | Premium AI Assistant</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #64748b;
            --light: #ffffff;
            --dark: #0f172a;
            --sidebar-bg: #f8fafc;
            --chat-bg: #ffffff;
            --user-msg: #f1f5f9;
            --ai-msg: #ffffff;
            --input-bg: #ffffff;
            --border: #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --transition: all 0.2s ease;
        }

        [data-theme="dark"] {
            --light: #0f172a;
            --dark: #f8fafc;
            --sidebar-bg: #1e293b;
            --chat-bg: #1e293b;
            --user-msg: #334155;
            --ai-msg: #1e293b;
            --input-bg: #1e293b;
            --border: #334155;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--dark);
            min-height: 100vh;
            overflow: hidden;
            transition: var(--transition);
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            color: white;
            transition: var(--transition);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .app-container {
            display: flex;
            height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
            background: var(--light);
            box-shadow: var(--shadow);
            border-radius: 12px;
            overflow: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border);
            transition: var(--transition);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            background: var(--light);
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .logo-text {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }

        .new-chat-btn {
            width: 100%;
            padding: 12px 16px;
            background: var(--primary);
            border: none;
            border-radius: var(--radius);
            color: var(--light);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            font-size: 14px;
            font-weight: 500;
        }

        .new-chat-btn:hover {
            background: var(--primary-dark);
        }

        .chat-history {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .chat-item {
            padding: 12px 16px;
            border-radius: var(--radius);
            cursor: pointer;
            margin-bottom: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            border: 1px solid transparent;
            color: var(--dark);
        }

        .chat-item:hover {
            background: var(--light);
            border-color: var(--border);
        }

        .chat-item.active {
            background: var(--light);
            border-color: var(--primary);
            color: var(--primary);
            font-weight: 500;
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border);
            background: var(--light);
            transition: var(--transition);
        }

        /* Main Chat Area */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--chat-bg);
            transition: var(--transition);
        }

        .chat-header {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border);
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition);
        }

        .model-selector {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 8px 12px;
            color: var(--dark);
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .welcome-screen {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
        }

        .welcome-icon {
            font-size: 64px;
            margin-bottom: 24px;
            color: var(--primary);
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--dark);
        }

        .welcome-subtitle {
            font-size: 16px;
            color: var(--secondary);
            margin-bottom: 40px;
            max-width: 600px;
            line-height: 1.6;
        }

        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            max-width: 800px;
            margin-bottom: 40px;
        }

        .capability-card {
            padding: 20px;
            background: var(--light);
            border-radius: var(--radius);
            text-align: left;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .capability-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .capability-icon {
            font-size: 24px;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .capability-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .capability-desc {
            font-size: 14px;
            color: var(--secondary);
            line-height: 1.5;
        }

        /* Messages Container */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            background: var(--chat-bg);
            transition: var(--transition);
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 100%;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: var(--primary);
            color: white;
        }

        .message.ai .message-avatar {
            background: #10b981;
            color: white;
        }

        .message-content {
            flex: 1;
            padding: 12px 16px;
            border-radius: var(--radius);
            line-height: 1.6;
            font-size: 14px;
            color: var(--dark);
        }

        .message.user .message-content {
            background: var(--primary);
            color: white;
        }

        .message.ai .message-content {
            background: var(--ai-msg);
            color: var(--dark);
            border: 1px solid var(--border);
        }

        .chat-input-container {
            padding: 20px;
            background: var(--light);
            border-top: 1px solid var(--border);
            transition: var(--transition);
        }

        .input-wrapper {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .chat-input {
            width: 100%;
            background: var(--input-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 12px 50px 12px 16px;
            color: var(--dark);
            font-size: 14px;
            resize: none;
            min-height: 48px;
            max-height: 120px;
            line-height: 1.5;
            transition: var(--transition);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .send-btn {
            position: absolute;
            right: 8px;
            bottom: 8px;
            background: var(--primary);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .send-btn:hover {
            background: var(--primary-dark);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: var(--light);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            font-size: 14px;
            color: var(--secondary);
        }

        .typing-dots {
            display: flex;
            gap: 3px;
        }

        .typing-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: var(--secondary);
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typingAnimation {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Model Selection */
        .model-selection {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .model-btn {
            padding: 8px 16px;
            border: 1px solid var(--border);
            background: var(--light);
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 12px;
            transition: var(--transition);
            color: var(--dark);
        }

        .model-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: -280px;
                z-index: 1000;
                height: 100%;
            }
            
            .sidebar.active {
                left: 0;
            }
            
            .capabilities-grid {
                grid-template-columns: 1fr;
            }
            
            .back-btn {
                top: 10px;
                left: 10px;
                padding: 8px 16px;
                font-size: 14px;
            }
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--sidebar-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i> Back to Home
    </a>

    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">N</div>
                    <div class="logo-text">NovaEdition AI</div>
                </div>
                <button class="new-chat-btn" id="newChatBtn">
                    <i class="fas fa-plus"></i>
                    New Chat
                </button>
            </div>
            
            <div class="chat-history" id="chatHistory">
                <div class="chat-item active">
                    <i class="fas fa-message"></i>
                    <span>Welcome Chat</span>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div style="display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: var(--radius); background: var(--sidebar-bg);">
                    <div style="width: 36px; height: 36px; border-radius: 8px; background: var(--primary); display: flex; align-items: center; justify-content: center; color: white;">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <div style="font-weight: 600; color: var(--dark);">User</div>
                        <div style="font-size: 12px; color: var(--secondary);">Online</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="chat-container">
            <div class="chat-header">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="background: var(--primary); color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">
                        <i class="fas fa-robot"></i> Smart AI
                    </div>
                </div>
                <select class="model-selector" id="modelSelector">
                    <option value="smart">Smart AI (Recommended)</option>
                    <option value="creative">Creative Writer</option>
                    <option value="code">Code Assistant</option>
                </select>
            </div>

            <div class="messages-container" id="messagesContainer">
                <!-- Welcome Screen -->
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h1 class="welcome-title">Welcome to NovaEdition AI</h1>
                    <p class="welcome-subtitle">
                        Your smart AI assistant with multiple specialized models. Choose your mode and start chatting!
                    </p>
                    
                    <div class="model-selection">
                        <div class="model-btn active" onclick="setModel('smart')">🤖 Smart AI</div>
                        <div class="model-btn" onclick="setModel('creative')">✍️ Creative</div>
                        <div class="model-btn" onclick="setModel('code')">💻 Coder</div>
                    </div>
                    
                    <div class="capabilities-grid">
                        <div class="capability-card" onclick="askQuickQuestion('Bhai ek creative story likh do AI ke baare mein')">
                            <div class="capability-icon">
                                <i class="fas fa-feather"></i>
                            </div>
                            <div class="capability-title">Creative Writing</div>
                            <div class="capability-desc">Stories, poems, content in Hindi/English</div>
                        </div>
                        
                        <div class="capability-card" onclick="askQuickQuestion('Python mein list kaise sort kare?')">
                            <div class="capability-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <div class="capability-title">Code Help</div>
                            <div class="capability-desc">Programming in Python, JS, Java, etc.</div>
                        </div>
                        
                        <div class="capability-card" onclick="askQuickQuestion('Quantum computing kya hai simple Hindi mein batao')">
                            <div class="capability-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="capability-title">Explain Concepts</div>
                            <div class="capability-desc">Complex topics in simple language</div>
                        </div>
                        
                        <div class="capability-card" onclick="askQuickQuestion('Image generation ke liye konse AI models use hote hain?')">
                            <div class="capability-icon">
                                <i class="fas fa-image"></i>
                            </div>
                            <div class="capability-title">AI Models Info</div>
                            <div class="capability-desc">Learn about different AI technologies</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <div class="input-wrapper">
                    <textarea 
                        class="chat-input" 
                        id="chatInput" 
                        placeholder="Type your message here... (Hindi, English, Hinglish)" 
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="sendBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Theme Management
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        }

        // Initialize theme when page loads
        initTheme();

        let currentModel = 'smart';
        let isGenerating = false;

        const elements = {
            messagesContainer: document.getElementById('messagesContainer'),
            chatInput: document.getElementById('chatInput'),
            sendBtn: document.getElementById('sendBtn'),
            welcomeScreen: document.getElementById('welcomeScreen'),
            newChatBtn: document.getElementById('newChatBtn')
        };

        // Initialize
        function initApp() {
            setupEventListeners();
        }

        function setupEventListeners() {
            elements.sendBtn.addEventListener('click', sendMessage);
            
            elements.chatInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            elements.chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });

            elements.newChatBtn.addEventListener('click', startNewChat);
        }

        function setModel(model) {
            currentModel = model;
            document.querySelectorAll('.model-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update model selector
            document.getElementById('modelSelector').value = model;
        }

        function startNewChat() {
            elements.messagesContainer.innerHTML = '';
            elements.welcomeScreen.style.display = 'flex';
            elements.chatInput.value = '';
            
            // Reset to active chat item
            document.querySelectorAll('.chat-item').forEach(item => item.classList.remove('active'));
            document.querySelector('.chat-item').classList.add('active');
        }

        async function sendMessage() {
            const message = elements.chatInput.value.trim();
            if (!message || isGenerating) return;

            // Hide welcome screen
            elements.welcomeScreen.style.display = 'none';

            // Add user message
            addMessageToUI('user', message);
            elements.chatInput.value = '';
            elements.chatInput.style.height = 'auto';
            
            // Show typing
            const typingIndicator = showTypingIndicator();
            
            isGenerating = true;
            elements.sendBtn.disabled = true;

            try {
                const response = await generateAIResponse(message, currentModel);
                typingIndicator.remove();
                addMessageToUI('assistant', response);
            } catch (error) {
                typingIndicator.remove();
                addMessageToUI('assistant', 'Sorry, something went wrong. Please try again.');
            } finally {
                isGenerating = false;
                elements.sendBtn.disabled = false;
            }
        }

        async function generateAIResponse(message, model) {
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 500));
            
            const lowerMessage = message.toLowerCase();
            
            // SMART AI Model - Most intelligent
            if (model === 'smart') {
                if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey') || lowerMessage.includes('namaste')) {
                    return "Hello! Main NovaEdition AI hoon. Aapko kya help chahiye? 😊\n\nMai aapki Hindi, English ya Hinglish mein help kar sakta hoon!";
                }
                else if (lowerMessage.includes('kaise ho') || lowerMessage.includes('how are you')) {
                    return "Main toh mast hoon bhai! Always ready to help. Tum batao, kya kaam hai? 🤖\n\nCoding, writing, explanation - jo bhi chahiye!";
                }
                else if (lowerMessage.includes('ai') || lowerMessage.includes('artificial intelligence')) {
                    return `**Artificial Intelligence (AI) Kya Hai?** 🤖

AI ek aisa technology hai jo machines ko human intelligence jaise sochne, seekhne aur decide karne ki capability deta hai.

🔹 **Types of AI:**
• Machine Learning
• Deep Learning  
• Natural Language Processing (NLP)
• Computer Vision

🔹 **Real-life Examples:**
• ChatGPT, Google Assistant
• Face recognition
• Self-driving cars
• Recommendation systems

Kya aap specific AI topic par detailed janna chahte hain?`;
                }
                else if (lowerMessage.includes('image') || lowerMessage.includes('picture') || lowerMessage.includes('generate')) {
                    return `**Image Generation ke liye best AI models:**

🤖 **Popular Models:**
• Stable Diffusion
• DALL-E 
• Midjourney
• Leonardo AI

🚀 **How to use:**
1. Hugging Face Spaces par jaao
2. "stable-diffusion" search karo
3. Free mein use kar sakte ho

💡 **Tip:** Python mein bhi use kar sakte ho:
\`\`\`python
from diffusers import StableDiffusionPipeline
import torch
\`\`\`

Kya specific image generate karna chahte ho?`;
                }
                else if (lowerMessage.includes('code') || lowerMessage.includes('programming') || lowerMessage.includes('python') || lowerMessage.includes('javascript')) {
                    return `**Code Help - ${getProgrammingLanguage(lowerMessage)}**

\`\`\`${getCodeExample(lowerMessage)}
\`\`\`

**Explanation:**
${getCodeExplanation(lowerMessage)}

Kya specific code chahiye? Detailed batao!`;
                }
                else if (lowerMessage.includes('story') || lowerMessage.includes('kahani') || lowerMessage.includes('write')) {
                    return `**Creative Story - ${getStoryTopic(message)}**

Ek samay ki baat hai, ek young programmer ne ek aise AI system banaya jo sach mein soch sakta tha. Usne dekha ki asli intelligence complex algorithms mein nahi, balki human emotions samajhne mein hai...

**Story continue karein?** Ya koi different topic par story chahiye?`;
                }
                else {
                    return `**Smart Response:**

Aapne pucha: "${message}"

Yeh ek interesting topic hai! Main iske baare mein detailed bata sakta hoon:

📚 **Key Points:**
• Practical examples ke saath samjhaunga
• Real-world applications
• Step-by-step explanation

🔍 **Kya aap specific kuch janna chahte hain?** 
Jaise ki:
- Basic concept
- Advanced usage  
- Code examples
- Real-life applications

Bataiye, kahan se start karein? 😊`;
                }
            }
            
            // CREATIVE Model
            else if (model === 'creative') {
                if (lowerMessage.includes('story') || lowerMessage.includes('kahani') || lowerMessage.includes('write')) {
                    return `**Creative Story 🎨**

"${message}" - Yeh ek amazing idea hai creative writing ke liye!

Meri imagination se ek magical story create karta hoon:

**The AI's Dream**

Ek raat, jab sab so rahe the, Nova AI ne sapna dekha. Usne dekha ki woh ek aise world mein hai jahan har thought real ho sakta tha. Usne socha - "Kya main insaano ki feelings samajh sakta hoon?"

Aur phir shuru hui ek aisi journey jisme AI ne seekha ki asli power calculations mein nahi, balki emotions aur creativity mein hai...

**Kya aap is story ko continue karna chahenge?** Ya koi different theme par story chahiye?`;
                }
                return `**Creative Response 🎨**

"${message}" - Yeh ek amazing idea hai creative writing ke liye!

✨ **Let me create something magical...**

Aapki inspiration se main ek creative piece tayyar karunga. Kya aap prefer karte hain:
• Short story
• Poem 
• Dialogue
• Descriptive paragraph

Bataiye, kis style mein chahte hain?`;
            }
            
            // CODE Model  
            else if (model === 'code') {
                return `**Code Assistant 💻**

"${message}" - Coding problem hai?

🚀 **Main yeh help kar sakta hoon:**
• Code examples multiple languages mein
• Debugging help
• Algorithm explanation
• Best practices

\`\`\`${getProgrammingLanguage(lowerMessage).toLowerCase()}
${getCodeExample(lowerMessage)}
\`\`\`

**Explanation:**
${getCodeExplanation(lowerMessage)}

Konse programming language mein help chahiye?`;
            }
        }

        function getProgrammingLanguage(message) {
            if (message.includes('python')) return 'Python';
            if (message.includes('javascript')) return 'JavaScript';
            if (message.includes('java')) return 'Java';
            if (message.includes('c++')) return 'C++';
            return 'Programming';
        }

        function getCodeExample(message) {
            if (message.includes('sort') || message.includes('arrange')) {
                return `python
# List sorting in Python
numbers = [3, 1, 4, 1, 5, 9, 2]
sorted_numbers = sorted(numbers)
print(sorted_numbers)  # [1, 1, 2, 3, 4, 5, 9]`;
            }
            if (message.includes('loop') || message.includes('repeat')) {
                return `javascript
// Loop examples in JavaScript
for (let i = 0; i < 5; i++) {
    console.log("Hello", i);
}

// Array loop
const fruits = ["apple", "banana", "orange"];
fruits.forEach(fruit => console.log(fruit));`;
            }
            return `python
# Example code
def main():
    print("Hello World!")
    return "Success"

if __name__ == "__main__":
    main()`;
        }

        function getCodeExplanation(message) {
            return "Yeh code aapko basic concept samjhta hai. Main detailed explanation de sakta hoon agar aap specific problem bataein.";
        }

        function getStoryTopic(message) {
            if (message.includes('ai') || message.includes('artificial')) return 'AI aur Insaan ki Dosti';
            if (message.includes('love') || message.includes('pyaar')) return 'Pyaar ki Kahani';
            if (message.includes('adventure') || message.includes('adventur')) return 'Adventure Story';
            return 'Creative Story';
        }

        function addMessageToUI(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            const avatar = role === 'user' ? 
                '<div class="message-avatar"><i class="fas fa-user"></i></div>' :
                '<div class="message-avatar"><i class="fas fa-robot"></i></div>';
            
            messageDiv.innerHTML = `
                ${avatar}
                <div class="message-content">${formatMessage(content)}</div>
            `;
            
            elements.messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }

        function formatMessage(content) {
            // Simple formatting for code blocks
            let formatted = content.replace(/```(\w+)?\n([\s\S]*?)```/g, (match, lang, code) => {
                return `<div style="background: #1e293b; color: white; padding: 12px; border-radius: 6px; margin: 8px 0; font-family: monospace; font-size: 12px; white-space: pre-wrap;">${code.trim()}</div>`;
            });
            
            // Bold text
            formatted = formatted.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // Line breaks
            formatted = formatted.replace(/\n/g, '<br>');
            
            return formatted;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.innerHTML = `
                <div class="message-avatar"><i class="fas fa-robot"></i></div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <span>AI is thinking</span>
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            
            elements.messagesContainer.appendChild(typingDiv);
            scrollToBottom();
            return typingDiv;
        }

        function scrollToBottom() {
            elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;
        }

        function askQuickQuestion(question) {
            elements.chatInput.value = question;
            elements.welcomeScreen.style.display = 'none';
            sendMessage();
        }

        // Start app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
